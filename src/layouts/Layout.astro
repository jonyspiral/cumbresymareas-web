---
// Layout.astro
import Navigation from '../components/Navigation.astro';
import Analytics from '../components/Analytics.astro';

interface Props {
	title: string;
	description: string;
}

const { title, description } = Astro.props;
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/png" href="/logo_cumbres_solo_color.png" />

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

		<title>{title} | Cumbres y Mareas</title>

		<Analytics />

		<script is:inline>
			function trackConversion(label) {
				if (typeof gtag !== 'undefined') {
					gtag('event', 'generate_lead', {
						'event_category': 'Engagement',
						'event_label': label,
						'value': 1
					});
					console.log('Evento enviado con éxito:', label);
				} else {
					console.warn('Google Analytics (gtag) no está cargado. Revisa la configuración del componente Analytics.');
				}
			}
		</script>
	</head>
	<body>
		<Navigation />

		<main>
			<slot />
		</main>

		<footer class="main-footer">
			<div class="footer-content">
				<img src="/logo_cumbres_cym_blanco.png" alt="Cumbres & Mareas" class="footer-logo" />
				<div class="footer-info">
					<p>© 2026 Cumbres & Mareas - Propiedades Premium</p>
					<div class="footer-links">
						<a href="/">Inicio</a>
						<a href="/casanevada">Casa Nevada</a>
						<a href="/casawaikiki">Casa Waikiki</a>
					</div>
				</div>
			</div>
		</footer>

		<style is:global>
			/* Forzamos la combinación de fuentes elegida */
			:root {
				--font-main: 'Inter', sans-serif;
				--font-title: 'Playfair Display', serif;
			}

			html, body {
				margin: 0;
				padding: 0;
				font-family: var(--font-main);
				background-color: #ffffff;
				color: #1a1a1a;
				-webkit-font-smoothing: antialiased;
			}

			/* Títulos con Playfair Display */
			h1, .property-title {
				font-family: var(--font-title) !important;
				font-weight: 700;
			}

			/* Cuerpo, Nav y botones con Inter */
			p, a, span, li, .tagline, nav {
				font-family: var(--font-main) !important;
			}

			/* Estilos del Footer */
			.main-footer {
				background-color: #1a1a1a;
				color: #ffffff;
				padding: 60px 20px;
				margin-top: 80px;
			}
			.footer-content {
				max-width: 1100px;
				margin: 0 auto;
				display: flex;
				flex-direction: column;
				align-items: center;
				text-align: center;
				gap: 30px;
			}
			.footer-logo {
				height: 50px;
				width: auto;
			}
			.footer-links {
				display: flex;
				gap: 20px;
				margin-top: 15px;
				justify-content: center;
			}
			.footer-links a {
				color: #999;
				text-decoration: none;
				font-size: 0.9rem;
				transition: color 0.3s;
			}
			.footer-links a:hover {
				color: #fff;
			}
		</style>
	</body>
</html>